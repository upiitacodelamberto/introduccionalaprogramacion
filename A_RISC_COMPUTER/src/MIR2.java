/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/**
 *
 * @author MIGUEL
 */

import java.applet.Applet;
import java.awt.*;
import java.awt.event.*;

public class MIR2 extends Applet implements ActionListener {

    private Button calc;
    private TextField a, amux, b, bmux,c,cmux,rd,wr,alu,cond,jumpaddr,loc;
    private int [][] cs = new int [2048][11];  //memoria de control


    public void init() {
        //cs[0][0]=0;cs[0][1]=0;cs[0][2]=0;cs[0][3]=0;cs[0][4]=0;cs[0][5]=0;cs[0][6]=0;cs[0][7]=0;cs[0][8]=0;cs[0][9]=0;cs[0][10]=0;
        //loc 0 lee inst de mem
        cs[0][0]=32;cs[0][1]=0;cs[0][2]=32;cs[0][3]=0;cs[0][4]=37;cs[0][5]=0;cs[0][6]=1;cs[0][7]=0;cs[0][8]=5;cs[0][9]=0;cs[0][10]=0;
        //loc 1 decode
        cs[1][0]=0;cs[1][1]=0;cs[1][2]=0;cs[1][3]=0;cs[1][4]=0;cs[1][5]=0;cs[1][6]=0;cs[1][7]=0;cs[1][8]=5;cs[1][9]=7;cs[1][10]=0;
        //addcc
        cs[1600][0]=0;cs[1600][1]=0;cs[1600][2]=0;cs[1600][3]=0;cs[1600][4]=0;cs[1600][5]=0;cs[1600][6]=0;cs[1600][7]=0;cs[1600][8]=5;cs[1600][9]=5;cs[1600][10]=1602;
        cs[1601][0]=0;cs[1601][1]=1;cs[1601][2]=0;cs[1601][3]=1;cs[1601][4]=0;cs[1601][5]=1;cs[1601][6]=0;cs[1601][7]=0;cs[1601][8]=3;cs[1601][9]=6;cs[1601][10]=2047;
        cs[1602][0]=37;cs[1602][1]=0;cs[1602][2]=0;cs[1602][3]=0;cs[1602][4]=33;cs[1602][5]=0;cs[1602][6]=0;cs[1602][7]=0;cs[1602][8]=12;cs[1602][9]=0;cs[1602][10]=0;
        cs[1603][0]=0;cs[1603][1]=1;cs[1603][2]=33;cs[1603][3]=0;cs[1603][4]=0;cs[1603][5]=1;cs[1603][6]=0;cs[1603][7]=0;cs[1603][8]=3;cs[1603][9]=6;cs[1603][10]=2047;
        //andcc
        cs[1604][0]=0;cs[1604][1]=0;cs[1604][2]=0;cs[1604][3]=0;cs[1604][4]=0;cs[1604][5]=0;cs[1604][6]=0;cs[1604][7]=0;cs[1604][8]=5;cs[1604][9]=5;cs[1604][10]=1606;
        cs[1605][0]=0;cs[1605][1]=1;cs[1605][2]=0;cs[1605][3]=1;cs[1605][4]=0;cs[1605][5]=1;cs[1605][6]=0;cs[1605][7]=0;cs[1605][8]=0;cs[1605][9]=6;cs[1605][10]=2047;
        cs[1606][0]=37;cs[1606][1]=0;cs[1606][2]=0;cs[1606][3]=0;cs[1606][4]=33;cs[1606][5]=0;cs[1606][6]=0;cs[1606][7]=0;cs[1606][8]=11;cs[1606][9]=0;cs[1606][10]=0;
        cs[1607][0]=0;cs[1607][1]=1;cs[1607][2]=33;cs[1607][3]=0;cs[1607][4]=0;cs[1607][5]=1;cs[1607][6]=0;cs[1607][7]=0;cs[1607][8]=0;cs[1607][9]=6;cs[1607][10]=2047;
        //or
        cs[1608][0]=0;cs[1608][1]=0;cs[1608][2]=0;cs[1608][3]=0;cs[1608][4]=0;cs[1608][5]=0;cs[1608][6]=0;cs[1608][7]=0;cs[1608][8]=5;cs[1608][9]=5;cs[1608][10]=1610;
        cs[1609][0]=0;cs[1609][1]=1;cs[1609][2]=0;cs[1609][3]=1;cs[1609][4]=0;cs[1609][5]=1;cs[1609][6]=0;cs[1609][7]=0;cs[1609][8]=1;cs[1609][9]=6;cs[1609][10]=2047;
        cs[1610][0]=37;cs[1610][1]=0;cs[1610][2]=0;cs[1610][3]=0;cs[1610][4]=33;cs[1610][5]=0;cs[1610][6]=0;cs[1610][7]=0;cs[1610][8]=11;cs[1610][9]=0;cs[1610][10]=0;
        cs[1611][0]=0;cs[1611][1]=1;cs[1611][2]=33;cs[1611][3]=0;cs[1611][4]=0;cs[1611][5]=1;cs[1611][6]=0;cs[1611][7]=0;cs[1611][8]=1;cs[1611][9]=6;cs[1611][10]=2047;
        //nor
        cs[1624][0]=0;cs[1624][1]=0;cs[1624][2]=0;cs[1624][3]=0;cs[1624][4]=0;cs[1624][5]=0;cs[1624][6]=0;cs[1624][7]=0;cs[1624][8]=5;cs[1624][9]=5;cs[1624][10]=1626;
        cs[1625][0]=0;cs[1625][1]=1;cs[1625][2]=0;cs[1625][3]=1;cs[1625][4]=0;cs[1625][5]=1;cs[1625][6]=0;cs[1625][7]=0;cs[1625][8]=2;cs[1625][9]=6;cs[1625][10]=2047;
        cs[1626][0]=37;cs[1626][1]=0;cs[1626][2]=0;cs[1626][3]=0;cs[1626][4]=33;cs[1626][5]=0;cs[1626][6]=0;cs[1626][7]=0;cs[1626][8]=11;cs[1626][9]=0;cs[1626][10]=0;
        cs[1627][0]=0;cs[1627][1]=1;cs[1627][2]=33;cs[1627][3]=0;cs[1627][4]=0;cs[1627][5]=1;cs[1627][6]=0;cs[1627][7]=0;cs[1627][8]=2;cs[1627][9]=6;cs[1627][10]=2047;
        //srl
        cs[1688][0]=0;cs[1688][1]=0;cs[1688][2]=0;cs[1688][3]=0;cs[1688][4]=0;cs[1688][5]=0;cs[1688][6]=0;cs[1688][7]=0;cs[1688][8]=5;cs[1688][9]=5;cs[1688][10]=1690;
        cs[1689][0]=0;cs[1689][1]=1;cs[1689][2]=0;cs[1689][3]=1;cs[1689][4]=0;cs[1689][5]=1;cs[1689][6]=0;cs[1689][7]=0;cs[1680][8]=4;cs[1689][9]=6;cs[1689][10]=2047;
        cs[1690][0]=37;cs[1690][1]=0;cs[1690][2]=0;cs[1690][3]=0;cs[1690][4]=33;cs[1690][5]=0;cs[1690][6]=0;cs[1690][7]=0;cs[1690][8]=11;cs[1690][9]=0;cs[1690][10]=0;
        cs[1691][0]=0;cs[1691][1]=1;cs[1691][2]=33;cs[1691][3]=0;cs[1691][4]=0;cs[1691][5]=1;cs[1691][6]=0;cs[1691][7]=0;cs[1691][8]=4;cs[1691][9]=6;cs[1691][10]=2047;

        //ld
        cs[1792][0]=0;cs[1792][1]=1;cs[1792][2]=0;cs[1792][3]=1;cs[1792][4]=33;cs[1792][5]=0;cs[1792][6]=0;cs[1792][7]=0;cs[1792][8]=8;cs[1792][9]=5;cs[1792][10]=1794;
        cs[1793][0]=33;cs[1793][1]=0;cs[1793][2]=33;cs[1793][3]=0;cs[1793][4]=0;cs[1793][5]=1;cs[1793][6]=1;cs[1793][7]=0;cs[1793][8]=5;cs[1793][9]=6;cs[1793][10]=2047;
        cs[1794][0]=37;cs[1794][1]=0;cs[1794][2]=0;cs[1794][3]=0;cs[1794][4]=33;cs[1794][5]=0;cs[1794][6]=0;cs[1794][7]=0;cs[1794][8]=12;cs[1794][9]=0;cs[1794][10]=0;
        cs[1795][0]=0;cs[1795][1]=1;cs[1795][2]=33;cs[1795][3]=0;cs[1795][4]=33;cs[1795][5]=0;cs[1795][6]=0;cs[1795][7]=0;cs[1795][8]=8;cs[1795][9]=6;cs[1795][10]=1793;

        //st
        cs[1808][0]=0;cs[1808][1]=1;cs[1808][2]=0;cs[1808][3]=1;cs[1808][4]=33;cs[1808][5]=0;cs[1808][6]=0;cs[1808][7]=0;cs[1808][8]=8;cs[1808][9]=5;cs[1808][10]=1810;
        cs[1809][0]=37;cs[1809][1]=0;cs[1809][2]=0;cs[1809][3]=0;cs[1809][4]=37;cs[1809][5]=1;cs[1809][6]=0;cs[1809][7]=0;cs[1809][8]=15;cs[1809][9]=6;cs[1809][10]=40;
        cs[40][0]=37;cs[40][1]=0;cs[40][2]=0;cs[40][3]=0;cs[40][4]=37;cs[40][5]=0;cs[40][6]=0;cs[40][7]=0;cs[40][8]=15;cs[40][9]=0;cs[40][10]=0;
        cs[41][0]=37;cs[41][1]=0;cs[41][2]=0;cs[41][3]=0;cs[41][4]=37;cs[41][5]=0;cs[41][6]=0;cs[41][7]=0;cs[41][8]=15;cs[41][9]=0;cs[41][10]=0;
        cs[42][0]=37;cs[42][1]=0;cs[42][2]=0;cs[42][3]=0;cs[42][4]=37;cs[42][5]=0;cs[42][6]=0;cs[42][7]=0;cs[42][8]=15;cs[42][9]=0;cs[42][10]=0;
        cs[43][0]=37;cs[43][1]=0;cs[43][2]=0;cs[43][3]=0;cs[43][4]=37;cs[43][5]=0;cs[43][6]=0;cs[43][7]=0;cs[43][8]=15;cs[43][9]=0;cs[43][10]=0;
        cs[444][0]=33;cs[44][1]=1;cs[44][2]=0;cs[44][3]=1;cs[44][4]=0;cs[44][5]=0;cs[44][6]=0;cs[44][7]=1;cs[44][8]=5;cs[44][9]=6;cs[44][10]=2047;
        cs[1810][0]=37;cs[1810][1]=0;cs[1810][2]=0;cs[1810][3]=0;cs[1810][4]=33;cs[1810][5]=0;cs[1810][6]=0;cs[1810][7]=0;cs[1810][8]=12;cs[1810][9]=0;cs[1810][10]=0;
        cs[1811][0]=0;cs[1811][1]=1;cs[1811][2]=33;cs[1811][3]=0;cs[1811][4]=33;cs[1811][5]=0;cs[1811][6]=0;cs[1811][7]=0;cs[1811][8]=8;cs[1811][9]=6;cs[1811][10]=1809;
        //inc pc
        cs[2047][0]=0;cs[2047][1]=1;cs[2047][2]=33;cs[2047][3]=0;cs[2047][4]=33;cs[2047][5]=0;cs[2047][6]=0;cs[2047][7]=0;cs[2047][8]=8;cs[2047][9]=6;cs[2047][10]=1793;
        
        this.setLayout(null);

        a = new TextField(10);
        a.setSize(30, 20);
        a.setLocation(100, 100);
        add(a);

        amux = new TextField(1);
        amux.setSize(15, 20);
        amux.setLocation(135, 100);
        add(amux);

        b = new TextField(10);
        b.setSize(30, 20);
        b.setLocation(155, 100);
        add(b);

        bmux = new TextField(1);
        bmux.setSize(15, 20);
        bmux.setLocation(190, 100);
        add(bmux);

        c = new TextField(10);
        c.setSize(30, 20);
        c.setLocation(210, 100);
        add(c);

        cmux = new TextField(1);
        cmux.setSize(15, 20);
        cmux.setLocation(245, 100);
        add(cmux);

        rd = new TextField(10);
        rd.setSize(15, 20);
        rd.setLocation(265, 100);
        add(rd);

        wr = new TextField(10);
        wr.setSize(15, 20);
        wr.setLocation(285, 100);
        add(wr);

        alu = new TextField(10);
        alu.setSize(30, 20);
        alu.setLocation(305, 100);
        add(alu);

        cond = new TextField(10);
        cond.setSize(15, 20);
        cond.setLocation(340, 100);
        add(cond);

        jumpaddr = new TextField(4);
        jumpaddr.setSize(40, 20);
        jumpaddr.setLocation(360, 100);
        add(jumpaddr);

        loc = new TextField(4);
        loc.setSize(40, 20);
        loc.setLocation(250, 60);
        add(loc);

        calc=new Button("Carga");
        calc.setSize(60,30);
        calc.setLocation(360,60);
        add(calc);
        calc.addActionListener(this);
    }

    public void actionPerformed(ActionEvent e) {
        int dirmc;
        if (e.getSource()==calc) {
           dirmc = Integer.parseInt(loc.getText());
           a.setText(Integer.toString(cs[dirmc][0]));
           amux.setText(Integer.toString(cs[dirmc][1]));
           b.setText(Integer.toString(cs[dirmc][2]));
           bmux.setText(Integer.toString(cs[dirmc][3]));
           c.setText(Integer.toString(cs[dirmc][4]));
           cmux.setText(Integer.toString(cs[dirmc][5]));
           rd.setText(Integer.toString(cs[dirmc][6]));
           wr.setText(Integer.toString(cs[dirmc][7]));
           alu.setText(Integer.toString(cs[dirmc][8]));
           cond.setText(Integer.toString(cs[dirmc][9]));
           jumpaddr.setText(Integer.toString(cs[dirmc][10]));
           //a, amux, b, bmux,c,cmux,rd,wr,alu,cond,jumpaddr
        }
    }
}
